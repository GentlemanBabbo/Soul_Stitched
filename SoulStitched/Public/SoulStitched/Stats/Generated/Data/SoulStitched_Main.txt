<!--------------------- SoulStitched Passives --------------------->

new entry "Passive_SoulStitchedBasics"
type "PassiveData"
data "DisplayName" ""
data "Description" ""
data "DescriptionParams" "Distance(12)"
data "Icon" "PassiveFeature_Darkvision"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(Movement,9,0);DarkvisionRangeMin(12)"

new entry "Playable_M_SoulStitched"
type "Character"
using "_Hero"
data "DefaultBoosts" "ScaleMultiplier(1.0)"
data "Weight" "135"
data "StepsType" "Bare"

new entry "Playable_F_SoulStitched"
type "Character"
using "_Hero"
data "DefaultBoosts" "ScaleMultiplier(1.0)"
data "Weight" "135"
data "StepsType" "Bare"

new entry "Passive_Ironfoot"
type "PassiveData"
data "DisplayName" "h724f5d5eg8c69g4a1fgb864g5c54b80a15cc;2"
data "Description" "hb47d2d99ge9cfg46fbgaae3gab8ac403b9bc;2"
data "Icon" "PassiveFeature_DeepGnome_StoneCamouflage"
data "Properties" "Highlighted"
data "Boosts" "Disadvantage(Skill,Stealth)"

new entry "FeyAncestry"
type "PassiveData"
data "DisplayName" "h3d2adba5ga7fcg4572g8c83g094ec7605e29;1"
data "Description" "hffa55deeg740dg4de2ga019g450f56abb3fa;1"
data "Icon" "PassiveFeature_FeyAncestry"
data "Properties" "Highlighted"
data "Boosts" "StatusImmunity(SLEEP);StatusImmunity(POISON_DROW_CONDITION);Tag(CHARMED_ADV);"

new entry "BloodThirsty_Redcap_SoulStitched"
type "PassiveData"
data "DisplayName" "h820e8b64g9a7dg41d5gb19eg2fac6cdc050b;2"
data "Description" "h1ebffa04g43c1g40a1gad37g8219628f6a45;2"
data "Icon" "PassiveFeature_Generic_Blood"
data "Boosts" "IF(HasStatus('BLEEDING',context.Target)):Advantage(AttackRoll)"

new entry "Bloodlust_Redcap_SoulStitched"
type "PassiveData"
data "DisplayName" "h93fe28c8g2a6dg42c0ga6d2ge988e5242799;1"
data "Properties" "IsHidden;OncePerAttack"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsKillingBlow() and HasStatus('BLOODLUST_REDCAP', context.Source)"
data "StatsFunctors" "RegainHitPoints(SELF,3d6)"

new entry "Brute_Redcap_SoulStitched"
type "PassiveData"
data "DisplayName" "h90914ed2gf674g4762g83ddg1bcabd4ff090;2"
data "Description" "hd0f9b152gc904g4adbg9e7age437fbb902c9;4"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and IsMeleeAttack() and not IsMiss()"
data "StatsFunctors" "IF(IsAttackType(AttackType.MeleeWeaponAttack)):DealDamage(1d4, MainMeleeWeaponDamageType)"


<!--------------------- SoulStitched Spells --------------------->

new entry "Target_OpenWounds_Redcap_SoulStitched"
type "SpellData"
data "SpellType" "Target"
using "Target_UnarmedAttack"
data "TargetRadius" "18"
data "Cooldown" "OncePerCombat"
data "SpellRoll" "not SavingThrow(Ability.Dexterity, SourceSpellDC())"
data "SpellSuccess" "DealDamage(2d6,Piercing);ApplyStatus(BLEEDING,100,2)"
data "Icon" "PassiveFeature_Generic_Blood"
data "DisplayName" "h4c3a8a7bgd67eg431egacfagbd2c4bf617b6;1"
data "Description" "hb81ea6a7g4727g4345gbbc7g863e821e4db6;2"
data "TooltipDamageList" "DealDamage(2d6,Piercing)"
data "TooltipAttackSave" "RangedWeaponAttack"
data "TooltipStatusApply" "ApplyStatus(BLEEDING,100,2)"
data "CastSound" "CrSpell_Cast_OpenWounds"
data "TargetSound" "CrSpell_Impact_OpenWounds"
data "CastTextEvent" "Cast"
data "SpellAnimation" "be806e00-f4fa-4078-b1ad-f3b5cf49776d,,;,,;89d18db2-07fc-48de-a2c9-5ad6857cc732,,;33176205-04c0-430d-867b-8e54d876fd00,,;,,;,,;,,;,,;,,"
data "SpellFlags" "IsSpell;HasVerbalComponent;HasSomaticComponent"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "2ffe3243-3e9c-459c-9705-a8a370c8da9e"
data "HitEffect" "bf3e7eb1-9911-4342-8385-890a6a096dbe"
data "Sheathing" "Sheathed"

new entry "Target_BloodLust_RedCap_SoulStitched"
type "SpellData"
data "SpellType" "Target"
using "Target_UnarmedAttack"
data "SpellSchool" "None"
data "Cooldown" "OncePerCombat"
data "SpellProperties" "ApplyStatus(BLOODLUST_REDCAP_SOULSTITCHED,100,5);"
data "TargetRadius" "12"
data "SpellRoll" ""
data "SpellSuccess" ""
data "SpellFail" ""
data "TargetConditions" "Tagged('REDCAP') and HasWeaponInMainHand() and not HasStatus('BLOODLUST_REDCAP_SOULSTITCHED')"
data "Icon" "GenericIcon_Intent_Buff"
data "DisplayName" "hcf04671cg7917g4bdagb60dgf5a428066401;1"
data "Description" "haa5e1f56g5edcg4080g82dfg54cf0ca3cc22;2"
data "TooltipDamageList" "RegainHitPoints(3d6)"
data "CastSound" "CrSpell_Cast_BloodLust"
data "TargetSound" "CrSpell_Impact_BloodLust"
data "UseCosts" "BonusActionPoint:1"
data "SpellAnimation" "24a8266f-a105-4f23-bda0-19379d1f2e55,,;,,;49b4d417-5829-4674-85eb-bd44f087506e,,;6c58d00e-366f-435d-ae09-eef9b2b05ac4,,;,,;,,;,,;,,;,,"
data "SpellFlags" "IsSpell;IsEnemySpell;HasVerbalComponent;IsConcentration"
data "HitAnimationType" "MagicalDamage_External"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "4f8b6876-7d36-480f-a625-2f1a25c1c650"
data "TargetEffect" "9e884d89-906a-4cfa-a613-ef13efb69b76"
data "Sheathing" "Sheathed"

new entry "BLOODLUST_REDCAP_SOULSTITCHED"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h2a2d8288g345ag42degbd28g713000652640;1"
data "Description" "h2add0db3g96dfg4f98g82c1gbe67810bdd16;3"
data "DescriptionParams" "RegainHitPoints(3d6)"
data "Icon" "statIcons_Bloodlust"
data "SoundStart" "Spell_Status_Enrage_Start"
data "SoundLoop" "Spell_Status_Enrage_MO"
data "SoundStop" "Spell_Status_Enrage_MO_Stop"
data "StackId" "BLOODLUST_REDCAP"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpell(Target_Multiattack_Redcap_SoulStitched);"
data "Passives" "Bloodlust_Redcap"
data "TickFunctors" "AI_ONLY:ApplyStatus(AI_HELPER_BUFF,100,2)"
data "StatusGroups" "SG_Rage"
data "StatusEffect" "1b61090f-12d2-4158-98fa-8432b1e9c165"

new entry "Target_Multiattack_Redcap_SoulStitched"
type "SpellData"
data "SpellType" "Target"
using "Target_Multiattack"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack); Cast2[Attack(AttackType.MeleeWeaponAttack)]; Cast3[Attack(AttackType.MeleeWeaponAttack)]"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);Cast2[DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)];Cast3[DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)]"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);"
data "TooltipPermanentWarnings" "0e505b6f-b187-4f61-ad4e-c933c1cb257d"
data "CastTextEvent" "Cast"
data "AlternativeCastTextEvents" "Cast2;Cast3"
data "SpellAnimation" "6d444cbe-28c7-4f69-9409-9b4871851d9b,,;ebd0529b-057e-491f-b124-acfed054728b,,;eeca2c0a-5f81-411e-aad8-b72362322900,,;2b6afcc6-c9c1-4dc1-9904-88bebecb892f,,;caa0d92c-5cd1-4248-9a4a-f2a8e404dac3,,;e6d40932-427f-4699-a0de-66f124d905b1,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "WeaponTypes" "Melee"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "3d4b50e7-ccbd-477b-9a34-be56fdfd7ddf"
data "TargetEffect" "5c14bfa5-3d6d-4c30-8530-6519573bcc1b"
data "Sheathing" "Melee"

new entry "Target_IronboundPursuit_RedCap_SoulStitched"
type "SpellData"
data "SpellType" "Target"
using "Target_UnarmedAttack"
data "Cooldown" "OncePerShortRest"
data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)"
data "SpellSuccess" "DealDamage(3d8+UnarmedMeleeAbilityModifier,Bludgeoning);ApplyStatus(PRONE,100,2);Force(2);"
data "Icon" "Action_IronboundPursuit"
data "DisplayName" "hc20d42c4g3613g44e2g94c7g96f8341bd434;1"
data "Description" "h91ae89f4ga33bg4738g9a6eg5d96063f143c;3"
data "DescriptionParams" "Distance(2)"
data "TooltipDamageList" "DealDamage(3d8+UnarmedMeleeAbilityModifier,Bludgeoning)"
data "TooltipAttackSave" "Dexterity"
data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"
data "CastSound" "CrSpell_Cast_Pursuit"
data "TargetSound" "CrSpell_Impact_Pursuit"
data "CastTextEvent" "Cast"
data "SpellAnimation" "2a7f6717-4f2f-422b-a9c6-c877140437c5,,;2639781e-007c-456b-b404-fa04d62f3380,,;8ae42bd8-0ab8-4a9b-84ea-a021e15539f9,,;64e4bf00-6b7c-4312-a24d-a0964d940b8d,,;4bb2b184-ead3-4afe-b28f-b1ec218d6ac5,,;1445e6a1-5644-44a2-b857-80b6b24b2ea3,,;,,;,,;,,"
data "SpellFlags" "IsAttack;IsMelee;AddFallDamageOnLand;IsHarmful;IsEnemySpell"
data "RechargeValues" "6"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "2d1f79df-26be-404e-ac1e-dc0bbb34c998"
data "TargetEffect" "be3b17f8-d6af-4b13-b80b-95a075d4a91d"
data "Sheathing" "Sheathed"

new entry "Rush_IronboundBlitz"
type "SpellData"
data "SpellType" "Rush"
using "Rush_Rush"
data "AIFlags" ""
data "SpellProperties" "Force(4)"
data "TargetRadius" "9"
data "HitRadius" "2"
data "MovementSpeed" "40000"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType); ExecuteWeaponFunctors(MainHand)"
data "TargetConditions" "(not Ally() or Item()) and not Grounded()"
data "Icon" "Action_Rush_New"
data "DisplayName" "hcf4611e1geb94g4ec5ga3f1gade25402f02b;2"
data "Description" "h55449644g27ceg4483g8ccbg9fabcc091a72;4"
data "DescriptionParams" "Distance(4)"
data "TooltipDamageList" ""
data "TooltipAttackSave" ""
data "TooltipPermanentWarnings" "aa8beb3b-9199-4b22-9f73-26e2ae0ab6af"
data "CastSound" "Spell_Cast_Tadpole_ForceTunnel_L1to3"
data "Requirements" "!Immobile"
data "CycleConditions" "Enemy()"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "b94b9184-9bd0-4840-be7d-003700173b37,,;,,;5df11e35-f081-44f7-bd6f-7049d0e533cd,,;8dccb0f6-24e3-44b7-a60b-1f217b7db523,,;066f8e0e-b3e1-4b76-a473-d1e23a3b7230,,;,,;7a28f440-1b0b-4a18-96a8-3767959b601a,,;,,;,,"
data "WeaponTypes" ""
data "SpellFlags" "IsHarmful;AddFallDamageOnLand"
data "SpellAnimationIntentType" "Aggressive"
data "RechargeValues" ""
data "VerbalIntent" "Utility"
data "RequirementConditions" "not Tagged('TADPOLE_POWERS_BLOCKED')"
data "PrepareEffect" "82154992-95d0-4323-8e2e-35f06976736e"
data "CastEffect" "38db3c94-f6d8-4299-8efd-5988123cc5d8"
data "HitEffect" "cdafbf8f-5d70-4fc2-9d95-f957b5877fde"
data "PositionEffect" "add6ad5d-0a18-4e50-b1db-57e94576d02f"
data "PreviewEffect" "1615a7f7-21d9-4dd0-849b-d3c79a57c5ff"
data "StopAtFirstContact" "0"
data "HitExtension" "1"
data "OnlyHit1Target" "0"
data "Sheathing" "DontChange"
